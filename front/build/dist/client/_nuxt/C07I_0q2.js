import{ah as C,aj as v,R as x,j as O,G as F,ak as P,Y as j,a1 as W,r as k,M as I}from"./t96BDbEU.js";function h(e){return C()?(v(e),!0):!1}function L(e){let o=0,n,t;const i=()=>{o-=1,t&&o<=0&&(t.stop(),n=void 0,t=void 0)};return(...r)=>(o+=1,n||(t=P(!0),n=t.run(()=>e(...r))),h(i),n)}function m(e){return typeof e=="function"?e():x(e)}const T=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const E=e=>e!=null,M=Object.prototype.toString,N=e=>M.call(e)==="[object Object]",Y=()=>+Date.now(),p=()=>{};function g(e,o){function n(...t){return new Promise((i,r)=>{Promise.resolve(e(()=>o.apply(this,t),{fn:o,thisArg:this,args:t})).then(i).catch(r)})}return n}function R(e,o={}){let n,t,i=p;const r=s=>{clearTimeout(s),i(),i=p};return s=>{const l=m(e),a=m(o.maxWait);return n&&r(n),l<=0||a!==void 0&&a<=0?(t&&(r(t),t=null),Promise.resolve(s())):new Promise((u,b)=>{i=o.rejectOnCancel?b:u,a&&!t&&(t=setTimeout(()=>{n&&r(n),t=null,u(s())},a)),n=setTimeout(()=>{t&&r(t),t=null,u(s())},l)})}}function G(...e){let o=0,n,t=!0,i=p,r,c,s,l,a;!j(e[0])&&typeof e[0]=="object"?{delay:c,trailing:s=!0,leading:l=!0,rejectOnCancel:a=!1}=e[0]:[c,s=!0,l=!0,a=!1]=e;const u=()=>{n&&(clearTimeout(n),n=void 0,i(),i=p)};return D=>{const f=m(c),w=Date.now()-o,d=()=>r=D();return u(),f<=0?(o=Date.now(),d()):(w>f&&(l||!t)?(o=Date.now(),d()):s&&(r=new Promise((y,S)=>{i=a?S:y,n=setTimeout(()=>{o=Date.now(),t=!0,y(d()),u()},Math.max(0,f-w))})),!l&&!n&&(n=setTimeout(()=>t=!0,f)),t=!1,r)}}function V(e){return W()}function _(e,o=200,n={}){return g(R(o,n),e)}function q(e,o=200,n=!1,t=!0,i=!1){return g(G(o,n,t,i),e)}function z(e,o=!0,n){V()?O(e,n):o?e():F(e)}function B(e,o=1e3,n={}){const{immediate:t=!0,immediateCallback:i=!1}=n;let r=null;const c=k(!1);function s(){r&&(clearInterval(r),r=null)}function l(){c.value=!1,s()}function a(){const u=m(o);u<=0||(c.value=!0,i&&e(),s(),r=setInterval(e,u))}if(t&&T&&a(),j(o)||typeof o=="function"){const u=I(o,()=>{c.value&&T&&a()});h(u)}return h(l),{isActive:c,pause:l,resume:a}}export{h as a,z as b,L as c,q as d,N as e,E as f,Y as g,B as h,T as i,p as n,m as t,_ as u};
