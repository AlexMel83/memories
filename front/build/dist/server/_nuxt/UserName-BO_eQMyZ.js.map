{"version":3,"file":"UserName-BO_eQMyZ.js","sources":["../../../../layouts/headers/UserName.vue"],"sourcesContent":["<template>\n  <div class=\"container-user-auth-name\">\n    <div class=\"item main-user-auth-name\">\n      <span> {{ userName }}</span> &nbsp;<span>{{ userSurname }}</span>\n    </div>\n    <div class=\"item cabinet\" :class=\"{ active: isInCabinet }\">\n      <a :href=\"setRout()\">\n        <span class=\"flex items-center\" @click=\"menuOpen = false\">\n          <UIcon name=\"i-heroicons-user-solid\" class=\"icon\" />Кабінет</span\n        >\n      </a>\n    </div>\n    <div class=\"item exit\">\n      <nuxt-link href=\"/\">\n        <span class=\"flex items-center\" @click=\"goOut\">\n          <UIcon\n            name=\"i-heroicons-arrow-right-start-on-rectangle-solid\"\n            class=\"icon\"\n          />Вихід</span\n        >\n      </nuxt-link>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { useAuthStore } from '@/stores/auth.store.ts';\nimport { ref, computed, watch } from 'vue';\nimport { useRoute } from 'vue-router';\n\nconst store = useAuthStore();\nconst menuOpen = ref(false);\nconst route = useRoute();\n\nconst userName = ref('');\nconst userSurname = ref('');\n\nconst updateUserData = () => {\n  userName.value = store.userData.user.name;\n  userSurname.value = store.userData.user.surname;\n};\n\nwatch(\n  () => localStorage.getItem('userData'),\n  (newVal) => {\n    if (newVal) {\n      updateUserData();\n    }\n  },\n  { immediate: true },\n);\n\nconst isInCabinet = computed(() => {\n  const currentPath = route.path;\n  return (\n    currentPath.startsWith('/manager') ||\n    currentPath.startsWith('/user') ||\n    currentPath.startsWith('/admin')\n  );\n});\n\nconst setRout = () => {\n  switch (store.userData.user.role) {\n    case 'manager':\n      return '/manager';\n    case 'user':\n      return '/user';\n    case 'admin':\n      return '/admin';\n    default:\n      return '/';\n  }\n};\n\nconst goOut = () => {\n  menuOpen.value = false;\n  store.logOut();\n  localStorage.removeItem('userData');\n};\n</script>\n\n<style scoped>\n.container-user-auth-name {\n  display: flex;\n  align-items: flex-start;\n  flex-direction: column;\n  gap: 20px;\n}\n\n.main-user-auth-name {\n  display: flex;\n  align-items: center;\n  margin-right: 10px;\n}\n\n.icon {\n  margin-right: 5px;\n  width: 24px;\n  height: 24px;\n}\n\nimg {\n  margin-right: 5px;\n}\n\n.cabinet:hover,\n.exit:hover {\n  transform: scale(1.1);\n}\n\n.item.active {\n  display: none;\n}\n\n@media (min-width: 768px) {\n  .container-user-auth-name {\n    flex-direction: row;\n    align-items: center;\n  }\n}\n</style>\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8BA,UAAM,QAAQ,aAAY;AAC1B,UAAM,WAAW,IAAI,KAAK;AAC1B,UAAM,QAAQ,SAAQ;AAEtB,UAAM,WAAW,IAAI,EAAE;AACvB,UAAM,cAAc,IAAI,EAAE;AAE1B,UAAM,iBAAiB,MAAM;AAC3B,eAAS,QAAQ,MAAM,SAAS,KAAK;AACrC,kBAAY,QAAQ,MAAM,SAAS,KAAK;AAAA,IAC1C;AAEA;AAAA,MACE,MAAM,aAAa,QAAQ,UAAU;AAAA,MACrC,CAAC,WAAW;AACV,YAAI,QAAQ;AACV;QACD;AAAA,MACF;AAAA,MACD,EAAE,WAAW,KAAM;AAAA,IACrB;AAEA,UAAM,cAAc,SAAS,MAAM;AACjC,YAAM,cAAc,MAAM;AAC1B,aACE,YAAY,WAAW,UAAU,KACjC,YAAY,WAAW,OAAO,KAC9B,YAAY,WAAW,QAAQ;AAAA,IAEnC,CAAC;AAED,UAAM,UAAU,MAAM;AACpB,cAAQ,MAAM,SAAS,KAAK,MAAI;AAAA,QAC9B,KAAK;AACH,iBAAO;AAAA,QACT,KAAK;AACH,iBAAO;AAAA,QACT,KAAK;AACH,iBAAO;AAAA,QACT;AACE,iBAAO;AAAA,MACV;AAAA,IACH;AAEA,UAAM,QAAQ,MAAM;AAClB,eAAS,QAAQ;AACjB,YAAM,OAAM;AACZ,mBAAa,WAAW,UAAU;AAAA,IACpC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}